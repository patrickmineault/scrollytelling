<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, minimum-scale=1.0"
    />
    <title>Balanced excitation and inhibition</title>
    <meta property="og:title" content="Balanced excitation and inhibition" />
    <meta charset="utf-8" />
    <meta property="og:type" content="article" />
    <link rel="shortcut icon" type="image/x-icon" href="/scrollytelling/favicon.ico">

    <meta property="og:description" content="Emergent chaos in spiking neural networks" />
    <meta property="description" content="Emergent chaos in spiking neural networks" />
    <link
      rel="stylesheet"
      href="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0/katex.min.css"
    />

    <link rel="stylesheet" href="static/idyll_styles.css" />
  </head>
  <body>
    <div id="idyll-mount"><div data-reactroot=""><div class="idyll-root"><div class=" idyll-text-container"></div><div class="article-header" style="background:#fffff8;color:#111"><h1 class="hed">Balanced excitation and inhibition</h1><h2 class="dek">Emergent chaos in spiking neural networks</h2><div class="byline">By: <a target="_blank" href="https://xcorr.net" style="color:#111">Patrick Mineault</a></div><div class="idyll-pub-date">Aug 12, 2021</div></div><div class=" idyll-text-container"><h2 id="introduction">Introduction</h2><p>Sensory neurons in the brain are noisy. If we present the same stimulus many times, their response patterns change from trial to trial. How can the brain have such different responses to the same stimuli? </p></div><div class="idyll-scroll" id="idyll-scroll-0" style="position:relative"><div class="idyll-scroll-graphic" style="top:0;left:0;right:0;bottom:auto;width:100%;transform:translate3d(0, 0, 0);z-index:-1;height:0"><div style="width:0;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)"><div class="circuit-svg"><span class="isvg pending circuit-0"></span></div></div></div><div class=" idyll-text-container"><div class="idyll-scroll-text"><div class="idyll-step "><p>
  We can model biological neurons using a highly abstracted model: the leaky integrate-and-fire (LIF) neuron. 
  </p></div><div class="idyll-step "><p>
  Neurons are surrounded by a cell membrane. Since charge can accumulate on both sides of this membrane, it acts as a capacitator <span style="display:inline-block"><span> <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.68333em;vertical-align:0em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.07153em;">C</span></span></span></span> </span></span>. The membrane is leaky, which is represented by leak resistance <span style="display:inline-block"><span> <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>R</mi></mrow><annotation encoding="application/x-tex">R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.68333em;vertical-align:0em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.00773em;">R</span></span></span></span> </span></span>. 
  </p></div><div class="idyll-step "><p>The relative voltage inside the cell with respect to outside is <span style="display:inline-block"><span> <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>V</mi><mo>(</mo><mi>t</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">V(t)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.22222em;">V</span><span class="mopen">(</span><span class="mord mathit">t</span><span class="mclose">)</span></span></span></span> </span></span>. </p></div><div class="idyll-step "><p>Finally, we assume one lump input to the cell, a current <span style="display:inline-block"><span> <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>I</mi><mo>(</mo><mi>t</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">I(t)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.07847em;">I</span><span class="mopen">(</span><span class="mord mathit">t</span><span class="mclose">)</span></span></span></span> </span></span>. </p></div><div class="idyll-step "><p>
    If you’re familiar with electronics, you’ll recognize this as an RC circuit. The equation for the voltage is:
    <span style="display:block"><span> <span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>τ</mi><mfrac><mrow><mi>d</mi><mi>V</mi></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mo>=</mo><mi>V</mi><mo>(</mo><mi>t</mi><mo>)</mo><mo>+</mo><mi>R</mi><mi>I</mi><mo>(</mo><mi>t</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">\tau \frac{dV}{dt} = V(t) + RI(t)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:1.37144em;"></span><span class="strut bottom" style="height:2.05744em;vertical-align:-0.686em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.1132em;">τ</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathit">d</span><span class="mord mathit">t</span></span></span><span style="top:-3.15em;"><span class="pstrut" style="height:3em;"></span><span class="stretchy" style="height:0.2em;"><svg width='400em' height='0.2em' viewBox='0 0 400000 200' preserveAspectRatio='xMinYMin slice'><path d='M0 80H400000 v40H0z M0 80H400000 v40H0z'/></svg></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathit">d</span><span class="mord mathit" style="margin-right:0.22222em;">V</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord rule" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mord rule" style="margin-right:0.2777777777777778em;"></span><span class="mord mathit" style="margin-right:0.22222em;">V</span><span class="mopen">(</span><span class="mord mathit">t</span><span class="mclose">)</span><span class="mord rule" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mord rule" style="margin-right:0.2222222222222222em;"></span><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="mord mathit" style="margin-right:0.07847em;">I</span><span class="mopen">(</span><span class="mord mathit">t</span><span class="mclose">)</span></span></span></span></span> </span></span></p></div><div class="idyll-step "><p>
    When the voltage goes above the threshold <span style="display:inline-block"><span> <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>V</mi><mrow><mi>t</mi><mi>h</mi><mi>r</mi></mrow></msub></mrow><annotation encoding="application/x-tex">V_{thr}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.68333em;"></span><span class="strut bottom" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="base"><span class="mord"><span class="mord mathit" style="margin-right:0.22222em;">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.22222em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathit mtight">t</span><span class="mord mathit mtight">h</span><span class="mord mathit mtight" style="margin-right:0.02778em;">r</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"></span></span></span></span></span></span></span></span> </span></span>, the LIF model fires a single spike, and the voltage is reset to 0.
  </p></div></div></div></div><div class=" idyll-text-container"><p>What happens when this model neuron is driven by a constant stimulus <span style="display:inline-block"><span> <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>I</mi><mo>(</mo><mi>t</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">I(t)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.07847em;">I</span><span class="mopen">(</span><span class="mord mathit">t</span><span class="mclose">)</span></span></span></span> </span></span>? <strong>Not noise</strong>!</p><div class="eiChart"></div><p>With a constant stimulus, the neuron charges up until threshold, and then fires a single spike. With a stronger stimulus, the neuron charges up faster, but still completely predictably.</p><p><div class="eiChart"></div>   </p><p>We can recover the irregular behaviour we expect from neurons with stochastic synapses. Randomly activating excitatory and inhibitory synapses cause the neuron’s underlying voltage to vary up and down. That makes the voltage cross the threshold at random intervals, even with a steady drive.</p><div class="eiChart"></div><p>Try it yourself! Adjust the parameters of the simulation to see how they interact.</p><p> <div> <span style="width:170px;display:inline-block" idyll="[object Object]"> Synaptic noise </span> <input type="range" value="0.07" min="0" max="0.1" step="0.001"/> <span class="idyll-display">0.07</span> </div><div> <span style="width:170px;display:inline-block" idyll="[object Object]"> Constant current </span> <input type="range" value="0.03" min="0" max="0.1" step="0.001"/> <span class="idyll-display">0.03</span> </div></p><h1 id="from-single-neurons-to-neural-networks">From single neurons to neural networks</h1><p>We’ve seen how single neurons can have stochastic responses to constant stimuli - by integrating from balanced, noisy excitatory and inhibitory synapses. What about a network of neurons? Will a network of neurons, responding to a constant stimulus, be more regular or more stochastic than a single neuron?</p><p><a href="https://link.springer.com/article/10.1023/A:1008925309027">Brunel (2000)</a> examines this question. Two subpopulations of neurons interact: <span style="color:red" idyll="[object Object]">excitatory neurons</span> and <span style="color:blue" idyll="[object Object]">inhibitory neurons</span>. Inhibitory neurons are fewer, but they have stronger synapses. Every neuron connects to small fraction of the population <span style="display:inline-block"><span> <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>ϵ</mi></mrow><annotation encoding="application/x-tex">\epsilon</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.43056em;vertical-align:0em;"></span><span class="base"><span class="mord mathit">ϵ</span></span></span></span> </span></span>.</p><p>How does this population react to a constant stimulus? That depends on two core parameters:</p><ul><li><span style="display:inline-block"><span> <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>v</mi><mrow><mi>e</mi><mi>x</mi><mi>t</mi></mrow></msub><mi mathvariant="normal">/</mi><msub><mi>v</mi><mrow><mi>t</mi><mi>h</mi><mi>r</mi></mrow></msub></mrow><annotation encoding="application/x-tex">v_{ext}/v_{thr}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base"><span class="mord"><span class="mord mathit" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathit mtight">e</span><span class="mord mathit mtight">x</span><span class="mord mathit mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"></span></span></span></span></span><span class="mord">/</span><span class="mord"><span class="mord mathit" style="margin-right:0.03588em;">v</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathit mtight">t</span><span class="mord mathit mtight">h</span><span class="mord mathit mtight" style="margin-right:0.02778em;">r</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"></span></span></span></span></span></span></span></span> </span></span>: The ratio of the external drive to the threshold of neurons. How strong the external stimulus is.</li><li><span style="display:inline-block"><span> <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>g</mi></mrow><annotation encoding="application/x-tex">g</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.43056em;"></span><span class="strut bottom" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="base"><span class="mord mathit" style="margin-right:0.03588em;">g</span></span></span></span> </span></span>: The ratio of inhibition to excitation.</li></ul></div><div class="idyll-scroll" id="idyll-scroll-1" style="position:relative"><div class="idyll-scroll-graphic" style="top:0;left:0;right:0;bottom:auto;width:100%;transform:translate3d(0, 0, 0);z-index:-1;height:0"><div style="width:0;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)"><div class="canvas-wrapper"><div class="canvas"></div></div></div></div><div class=" idyll-text-container"><div class="idyll-scroll-text"><div class="idyll-step "><p>With equal inhibition and excitation and a moderate drive, the population is synchronous</p></div><div class="idyll-step "><p>Stronger inhibition desynchronizes the population</p></div><div class="idyll-step "><p>A stronger drive recovers the synchronous behaviour</p></div><div class="idyll-step "><p>Chaotic and regular patterns can emerge depending on parameters</p></div></div></div></div><div class=" idyll-text-container"><div style="margin-top:-100px" idyll="[object Object]"><p>
Try it for yourself! Identify sets of parameters which lead to chaotic or regular behaviour.</p><div> <span style="width:170px;display:inline-block" idyll="[object Object]"> External drive </span> <input type="range" value="2" min="0" max="10" step="0.01"/> <span class="idyll-display">2.00</span> </div><div> <span style="width:170px;display:inline-block" idyll="[object Object]"> Ratio of inhibition to excitation </span> <input type="range" value="6" min="0" max="8" step="0.01"/> <span class="idyll-display">6.00</span> </div></div><h1 id="inspiration-and-further-reading">Inspiration and further reading</h1><ul><li>Grace Lindsay, <a href="https://gracewlindsay.com/2021/02/10/models-of-the-mind-how-physics-engineering-and-mathematics-have-shaped-our-understanding-of-the-brain/">Models of the mind</a>, Chapter <!-- -->5</li><li><a href="https://compneuro.neuromatch.io/tutorials/W1D1_ModelTypes/student/W1D1_Tutorial2.html">Neuromatch academy</a></li><li><a href="https://neuronaldynamics.epfl.ch/online/Ch1.S3.html">Neuronal Dynamics</a></li></ul><h2 id="source-code">Source code</h2><ul><li><a href="https://observablehq.com/@patrickmineault/balanced-e-i-networks">Linear integrate-and-fire neuron</a></li><li><a href="https://observablehq.com/@patrickmineault/dynamics-of-sparsely-connected-networks-of-inhibitory-and">Populations of LIF neurons</a></li><li><a href="https://github.com/patrickmineault/scrollytelling">This page</a></li></ul><p>
Made with <a href="https://idyll-lang.org/">Idyll</a>.</p></div></div></div></div>
    <script src="static/idyll_index.js"></script>
  </body>
</html>
